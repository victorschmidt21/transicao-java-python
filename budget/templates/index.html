<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GestãoApp</title>

  <style>
    /* RESET E CONFIGURAÇÕES GERAIS */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Inter", sans-serif;
      background-color: #111827;
      color: #d9d9d9;
      height: 100vh;
      overflow: hidden;
    }
    a { text-decoration: none; color: inherit; }

    /* LAYOUT PRINCIPAL */
    .root { display: flex; width: 100%; height: 100%; }

    /* NAV LATERAL */
    .nav {
      background-color: #1f2937;
      width: 260px;
      min-width: 200px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 2rem;
      color: #fff;
      transition: all 0.3s ease;
    }
    .nav h2 { font-weight: 700; font-size: 1.5rem; margin-bottom: 2rem; }
    .nav ul { list-style: none; display:flex; flex-direction: column; gap: 1.5rem; }
    .nav ul li a { font-size: 1rem; color: #d9d9d9; transition: color 0.2s ease; }
    .nav ul li a:hover { color: #fff; }
    .nav ul li a.selected {
      font-weight: 700;
      border-bottom: 2px solid #1d4ed8;
      padding-bottom: 4px;
      color: #fff;
    }

    /* CONTEÚDO PRINCIPAL */
    .main-container { flex: 1; padding: 2rem; overflow-y: auto; display:flex; flex-direction: column; gap: 2rem; }
    header h1 { font-size: 2rem; font-weight: 700; }
    .content { width: 100%; max-width: 1200px; display:flex; flex-direction:column; gap: 2rem; }

    /* AÇÕES E PESQUISA */
    .actions { display:flex; flex-wrap:wrap; gap: 1rem; justify-content: space-between; align-items: center; }
    .actions a {
      background-color: #1d4ed8;
      border-radius: 10px;
      padding: 0.8rem 1.5rem;
      color: #d9d9d9;
      font-weight: 600;
      transition: background-color 0.2s ease;
    }
    .actions a:hover { background-color: #2a5add; }

    .searcher { display:flex; align-items:center; gap:0.5rem; flex-wrap:nowrap; }
    .searcher input {
      width:100%; max-width:350px; padding:0.6rem 1rem; background-color:#374151; border:none; border-radius:10px; color:#fff;
    }

    .searcher button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 0.7rem;
      background-color: #1d4ed8;
      border: none;
      border-radius: 10px;
      color: #fff;             /* define a cor que o SVG herdará via currentColor */
      cursor: pointer;
      transition: background-color 0.2s ease, opacity 0.15s ease;
    }
    .searcher button:hover { background-color: #2a5add; opacity: 0.95; }

    .searcher button svg { width: 18px; height: 18px; display:block; }

    /* TABELA */
    .wrapper-table { width:100%; border-radius:16px; overflow-x:auto; overflow-y:auto; background-color:#1f2937; }
    table { width:100%; border-collapse: collapse; min-width:600px; }
    th {
      position: sticky; top: 0; background-color:#374151; padding:1rem; text-align:left; color:#9ba2af;
      font-weight:700; font-size:1rem;
    }
    td { padding:1rem; border-top:1px solid #2c3542; color:#fff; font-size:1rem; }

    .data-table .action { display:flex; gap:0.5rem; justify-content:center; }
    .edit { background-color:#1d4ed8; }
    .delete { background-color:#ff0000; }
    .convert { background-color:#37a737; }
    .edit, .delete, .convert {
      padding:0.5rem 0.8rem; border-radius:8px; color:#fff; font-weight:600; cursor:pointer;
    }
    .edit:hover, .delete:hover, .convert:hover { opacity:0.9; }

    @media (max-width: 992px) {
      .root { flex-direction: column; }
      .nav {
        flex-direction: row; justify-content: space-between; width:100%; padding:1rem 2rem;
        position: sticky; top:0; z-index:10;
      }
      .nav ul { flex-direction: row; flex-wrap:wrap; gap:1rem; }
      .main-container { padding:1.5rem; }
      header h1 { font-size:1.75rem; }
    }
    @media (max-width: 600px) {
      .actions { flex-direction: column; align-items: stretch; }
      .searcher { width:100%; }
      .searcher input { max-width:100%; }
      table { font-size:0.9rem; }
      th, td { padding:0.75rem; }
    }
  </style>
</head>
<body>
  <div class="root">
    <nav class="nav">
      <h2>Gestão - App</h2>
      <ul>
        <li><a href="/client">Clientes</a></li>
        <li><a href="/budget" class="selected">Orçamentos</a></li>
        <li><a href="/employee">Funcionários</a></li>
        <li><a href="/order">Vendas</a></li>
        <li><a href="/supplier">Fornecedores</a></li>
        <li><a href="/product">Produtos</a></li>
      </ul>
    </nav>

    <main class="main-container">
      <header><h1>Orçamentos</h1></header>

      <section class="content">
        <div class="actions">
          <a href="/budget/create">+ Criar Orçamento</a>

          <div class="searcher">
            <input placeholder="Pesquisar" aria-label="Pesquisar orçamentos" />
            <button type="button" aria-label="Pesquisar">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                <circle cx="11" cy="11" r="6"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </button>
          </div>
        </div>

        <div class="wrapper-table">
          <table class="data-table" role="table" aria-label="Tabela de orçamentos">
            <tr>
              <th>Código</th>
              <th>Cliente</th>
              <th>Data</th>
              <th>Valor Total</th>
              <th>Ações</th>
            </tr>
            <tr>
            {% for budget in budgets %}
                <td>{{ budget.id }}</td>
                <td>{{ budget.client_id }}</td>
                <td>{{ budget.created_at }}</td>
                <td>R$ {{ budget.total_value }}</td>
                <td>
                    <div class="action">
                    <button class="edit" aria-label="Editar orçamento {{ budget.id }}">Editar</button>
                    <button class="delete" aria-label="Excluir orçamento {{ budget.id }}">Excluir</button>
                    </div>
                </td>
            {% endfor %}
            </tr>
          </table>
        </div>
      </section>
    </main>
  </div>
</body>
</html>
